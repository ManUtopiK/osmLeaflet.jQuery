/**
 * osmLeaflet.jQuery minified
 * jQuery plugin, wrapper for the Leaflet API
 *
 * @author Mathieu ROBIN
 * @link http://www.mathieurobin.com/osmLeaflet
 * @copyright MIT License
 * @version 1.0
 */
(function(a){var b={zoom:10,maxZoom:18,latitude:0,longitude:0,cloudmadeAttribution:"Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade, osmLeaflet.jQuery by Mathieu ROBIN"},c,d,e={init:function(e){var f=this;return this.each(function(){e&&(c=a.extend(b,e)),d=new L.Map(this.id);var g="http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png",h=new L.TileLayer(g,{maxZoom:c.maxZoom,attribution:c.cloudmadeAttribution});d.setView(new L.LatLng(c.latitude,c.longitude),c.zoom).addLayer(h),"undefined"!=typeof e.click&&"function"==typeof e.click&&d.on("click",e.click),"undefined"!=typeof e.markers&&f.osmLeaflet("addMarker",e.markers),"undefined"!=typeof e.popup&&f.osmLeaflet("addPopup",e.popup)})},addMarker:function(a){var b=this;return this.each(function(){var c=null,e=null;if("undefined"!=typeof a)if("undefined"==typeof a.length)e=new L.LatLng(a.latitude,a.longitude),c=new L.Marker(e),"undefined"!=typeof a.click&&c.bindPopup(a.click.content,a.click),d.addLayer(c);else for(c in a)b.osmLeaflet("addMarker",a[c])})},addPopup:function(a){return this.each(function(){if("undefined"!=typeof a){var b=new L.Popup;b.setLatLng(new L.LatLng(a.latitude,a.longitude)),b.setContent(a.content),d.openPopup(b)}})},onClick:function(a){return this.each(function(){"undefined"!=typeof a&&("function"==typeof a?d.on("click",a):"Deferred"==typeof a&&d.on("click",function(){a.resolve()}))})}};a.fn.osmLeaflet=function(b){if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return e.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.osmLeaflet")}})(jQuery)